[fs::delo_articles]
root = ../lev_trocki-data
domain = 'delo_articles'

[importer::delo_articles_part-no_sections]
source = ../lev_trocki-data/corpus/slovenian/delo/raw_text_only_digital_text_chunks_part
source_pattern = pattern:^chunk\.[a-z]{3}$
destination_fs = fs::delo_articles
destination_ds = delo_articles_part-no_sections
process = delo.IDXArticleImporterProcess
article_sections = false

[tokenizer::gpt-bpe-30_000]
fs = fs::delo_articles
target_model = gpt
vocab_size = 30_000
add_prefix_space = true

[tokenizer::gpt-bpe-5_000]
fs = fs::delo_articles
target_model = gpt
vocab_size = 5_000
add_prefix_space = true

[layout::512-0.5]
tokenizer = tokenizer::gpt-bpe-30_000
processor = 'sssr.Aligner'
window_size = 512
window_step = 0.5
alignment = space
adaptive = true
edge_tokens = (<|eot|>, <|eot|>, false)

[layout::64-0.5]
tokenizer = tokenizer::gpt-bpe-5_000
processor = 'sssr.Aligner'
window_size = 64
window_step = 0.5
alignment = space
adaptive = true
edge_tokens = (<|eot|>, <|eot|>, false)

[dataset::delo_articles_part]
fs = fs::delo_articles
importer = importer::delo_articles_part-no_sections
layout = layout::512-0.5
tag = "512-0.5"
target_tasks = (causal_language_modeling, masked_language_modeling)
parts = (train=0.9, test=0.1)

[dataset::delo_articles-part-64]
fs = fs::delo_articles
importer = importer::delo_articles_part-no_sections
layout = layout::64-0.5
tag = "64-0.5"
target_tasks = (causal_language_modeling, masked_language_modeling)
parts = (train=0.9, test=0.1)



